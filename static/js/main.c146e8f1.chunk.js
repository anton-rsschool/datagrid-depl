(this.webpackJsonpdatagrid=this.webpackJsonpdatagrid||[]).push([[0],{1101:function(e,t,a){},1102:function(e,t,a){"use strict";a.r(t);var n=a(4),r=a(0),c=a.n(r),l=a(8),i=a.n(l),o=a(13),s=a(3);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var u=function(e){return{type:"CHANGE_SEARCH_QUERY",payload:e}},d=function(e){return{type:"CHANGE_FILTER",payload:e}},m=function(e){return{type:"SELECT_ROW",payload:e}},f=a(12),v=a(10),b=(a(39),function(){var e=Object(s.c)((function(e){return e.searchQuery})),t=e?e.query:"",a=e?e.fields:[{value:"name",label:"Name"}],n=Object(r.useState)(a),l=Object(f.a)(n,2),i=l[0],o=l[1],d=Object(r.useState)(t),m=Object(f.a)(d,2),b=m[0],E=m[1],h=Object(s.b)();return c.a.createElement("div",{className:"search"},c.a.createElement("label",{className:"search__label",htmlFor:"search"},"Search"),c.a.createElement("form",{className:"search__control",onSubmit:function(e){e.preventDefault(),h(u({query:b,fields:i}))}},c.a.createElement("input",{className:"search__input",type:"text",id:"search",value:b,onChange:function(e){var t=e.target.value;E(t)}}),c.a.createElement(v.a,{className:"search__select",placeholder:"Select column",onChange:function(e){o(e),h(u({query:b,fields:e}))},options:[{value:"name",label:"Name"},{value:"city",label:"City"},{value:"age",label:"Age"},{value:"email",label:"Email"}],value:i,isMulti:!0,isSearchable:!1}),c.a.createElement("button",{className:"search__button",type:"submit"},"Search")))}),E=(a(40),function(e){var t=e.label,a=e.options,n=e.defaultOptions,l=e.isMulti,i=e.isSearchable,o=e.onChange,s=Object(r.useState)(n),u=Object(f.a)(s,2),d=u[0],m=u[1];return c.a.createElement("div",{className:"select-filter"},c.a.createElement("label",{className:"select-filter__label",htmlFor:t},t),c.a.createElement(v.a,{id:t,className:"select-filter__select",placeholder:"Select value",onChange:function(e){m(e),o(e)},options:a,value:d,isMulti:l,isSearchable:i}))});E.defaultProps={isMulti:!1,isSearchable:!1};var h=E,y=a(14),g=a.n(y),p=(a(45),function(e){var t=e.onToggle,a=e.isChecked;return c.a.createElement("div",{className:"toggle__body"},c.a.createElement("label",{className:"toggle__label"},"Active Only"),c.a.createElement(g.a,{defaultChecked:a,onChange:function(e){var a=e.target.checked;t(a)}}))}),_=(a(46),function(){var e=Object(s.c)((function(e){return e.filters})),t=Object(s.b)(),a="role"in e?e.role.map((function(e){return{value:e,label:"".concat(e[0].toUpperCase()).concat(e.slice(1))}})):[];return c.a.createElement("div",{className:"filter-bar"},c.a.createElement(p,{onToggle:function(e){t(d({field:"active",values:e?[e]:[]}))},isChecked:"active"in e}),c.a.createElement(b,null),c.a.createElement(h,{options:[{value:"mentor",label:"Mentor"},{value:"student",label:"Student"},{value:"activist",label:"Activist"}],defaultOptions:a,label:"Role",onChange:function(e){var a=e?e.map((function(e){return e.value})):[];t(d({field:"role",values:a}))},isMulti:!0}))}),O=function(e,t){return e.slice().sort((function(e,a){for(var n=Object.keys(t),r=n.length,c=0;c<r;c+=1){var l=n[c];if("asc"===t[n[c]]){if(e[l]>a[l])return 1;if(e[l]<a[l])return-1}if("desc"===t[n[c]]){if(e[l]>a[l])return-1;if(e[l]<a[l])return 1}}return 0}))},N=function(e,t,a){return e.filter((function(e){return function(e){if(!t)return!0;var a=t.query;return t.fields.map((function(e){return e.value})).some((function(t){return-1!==String(e[t]).toLowerCase().indexOf(a.toLowerCase())}))}(e)&&function(e){var t=Object.keys(a);return 0===t.length||t.every((function(t){var n=e[t];return a[t].some((function(e){return e===n}))}))}(e)}))},S=(a(47),function(){var e=Object(s.c)((function(e){return e.selectedRows})),t=Object(s.c)((function(e){return e.visibleColumns})),a=Object(s.c)((function(e){return{data:e.data,filters:e.filters,searchQuery:e.searchQuery,sort:e.sort}})),r=Object(s.b)(),l=[{value:"name",label:"Name",isFixed:!0},{value:"age",label:"Age",isFixed:!1},{value:"city",label:"City",isFixed:!1},{value:"status",label:"Status",isFixed:!1},{value:"email",label:"Email",isFixed:!1},{value:"role",label:"Role",isFixed:!1},{value:"registration",label:"Registration",isFixed:!1}],i={multiValue:function(e,t){return t.data.isFixed?Object(n.a)({},e,{backgroundColor:"gray"}):e},multiValueLabel:function(e,t){return t.data.isFixed?Object(n.a)({},e,{fontWeight:"bold",color:"white",paddingRight:6}):e},multiValueRemove:function(e,t){return t.data.isFixed?Object(n.a)({},e,{display:"none"}):e}};return c.a.createElement("div",{className:"tool-bar"},c.a.createElement("div",{className:"tool-bar__left"},c.a.createElement("button",{className:"tool-bar__button",type:"button",disabled:0===Object.keys(e).length,onClick:function(){var e;r({type:"DELETE_ROW",payload:e})}},"Delete"),c.a.createElement(v.a,{className:"tool-bar__select",placeholder:"Select column",onChange:function(e,t){var a=t.action,n=t.removedValue;switch(a){case"remove-value":case"pop-value":if(n.isFixed)return;break;case"clear":e=l.filter((function(e){return e.isFixed}))}r({type:"CHANGE_VISIBLE_COLUMNS",payload:e})},options:l,isClearable:t.some((function(e){return!e.isFixed})),styles:i,value:t,isMulti:!0,isSearchable:!1})),c.a.createElement("div",{className:"tool-bar__right"},c.a.createElement("button",{className:"tool-bar__button",type:"button",onClick:function(){!function(e,t,a,n,r){var c=N(e,a,t),l=O(c,n),i=r.map((function(e){return e.value})),o=Object.keys(e[0]).filter((function(e){return i.includes(e)})),s="".concat(o.join(","),"\n");l.forEach((function(e){var t=[];o.forEach((function(a){t.push(e[a])})),s="".concat(s).concat(t.join(","),"\n")}));var u=document.createElement("a");u.href="data:text/csv;charset=utf-8,".concat(encodeURI(s)),u.target="_blank",u.download="table.csv",u.click()}(a.data,a.filters,a.searchQuery,a.sort,t)}},"Save SCV"),c.a.createElement("div",null,c.a.createElement("span",null,"Virtualisation: "),c.a.createElement(g.a,{defaultChecked:!0,onChange:function(e){var t=e.target.checked;r({type:"TOGGLE_VIRTUALIZATION",payload:t})}}))))}),j=a(28),C=a(27),w=a(23),R=a.n(w),k=(a(49),a(24)),x=a.n(k),F=a(25),T=a.n(F),I=a(26),A=a.n(I),L=function(e){var t=e.children,a=e.order,n=e.onChangeSort,r=e.index,l={asc:T.a,desc:A.a,not:x.a};return c.a.createElement("button",{className:"toggle",type:"button",onClick:function(e){var a=e.shiftKey;n({field:t,isPressedShift:a})}},t,c.a.createElement("div",{className:"toggle__indicator"},r,c.a.createElement("img",{className:"toggle__image",src:l[a],alt:"sorting"})))},G=(a(50),function(e){var t=e.columns,a=e.sort,n=e.onChangeSort,r=Object.keys(t),l=Object.keys(a),i=r.map((function(e){return c.a.createElement("div",{className:"thead__item thead__item--".concat(e),key:e},c.a.createElement("div",{className:"thead__content"},c.a.createElement(L,{order:e in a?a[e]:"not",onChangeSort:n,index:l.length>0&&l.includes(e)?l.indexOf(e)+1:null},e)))}));return c.a.createElement("div",{className:"thead"},c.a.createElement("div",{className:"thead__row"},c.a.createElement("div",{className:"thead__selected"},"#"),i))}),M=(a(51),function(e){var t=e.data,a=e.columns,n=e.onSelectRow,r=e.selected,l=t.id,i=Object.keys(a).map((function(e){var n="row__item row__item--".concat(e);return c.a.createElement("div",{className:n,key:e},a[e](t[e]))}));return c.a.createElement("div",{className:"row".concat(r?" row--active":"")},c.a.createElement("div",{className:"row__selected"},c.a.createElement("input",{type:"checkbox",checked:r,onClick:function(e){var t=e.target.checked,a=e.shiftKey;n({id:l,checked:t},a)},onChange:function(){}})),i)}),V=(a(52),function(e){var t=e.data,a=e.columns,n=e.onSelectRow,r=e.selectedRows,l=t.map((function(e){return c.a.createElement(M,{key:e.id,data:e,selected:e.id in r,columns:a,onSelectRow:n})}));return c.a.createElement("div",{className:"tbody"},l)}),Q=(a(53),function(){var e=Object(s.c)((function(e){var t=e.data,a=e.sort,n=e.searchQuery,r=e.filters,c=N(t,n,r);return O(c,a)})),t=Object(s.c)((function(e){return e.sort})),a=Object(s.c)((function(e){return e.lastSelectedRow})),n=Object(s.c)((function(e){return e.selectedRows})),l=Object(s.c)((function(e){return e.visibleColumns.map((function(e){return e.value}))})),i=Object(s.c)((function(e){return e.virtualization})),o=Object(s.b)();i&&e.unshift({id:33});var u=function(t,n){var r=e.findIndex((function(e){return e.id===t.id}));if(n&&a){var c=e.findIndex((function(e){return e.id===a})),l=e.slice(c>r?r:c,(c>r?c:r)+1).map((function(e){return e.id}));o(m({elements:l,lastSel:e[r].id}))}else o(m({elements:[t.id],lastSel:e[r].id}))},d=function(e){o(function(e){return{type:"CHANGE_SORT",payload:e}}(e))},f={name:function(e){return e},age:function(e){return e},city:function(e){return e},active:function(e){return e?"Yes":"No"},email:function(e){return e},role:function(e){return e},registration:function(e){return R()(e).format("D MMM Y")}},v=function(e,t){var a=Object.keys(f),n={};return a.forEach((function(a){t.includes(a)&&(n[a]=e[a])})),n}(f,l),b=Object(r.forwardRef)((function(e,a){var n=e.children,r=Object(j.a)(e,["children"]);return(c.a.createElement("div",Object.assign({ref:a},r),c.a.createElement("div",{className:"sticky"},c.a.createElement(G,{columns:v,onChangeSort:d,sort:t})),n))}));return c.a.createElement("div",{className:"table"},i?c.a.createElement(C.a,{className:"sticky-list",height:600,itemCount:e.length,itemSize:40,width:1200,overscanCount:10,innerElementType:b},(function(t){var a=t.index,r=t.style;return c.a.createElement("div",{className:"row",style:r},c.a.createElement(M,{key:e[a].id,data:e[a],selected:e[a].id in n,columns:v,onSelectRow:u}))})):c.a.createElement("div",{className:"table__table"},c.a.createElement(G,{columns:v,onChangeSort:d,sort:t}),c.a.createElement(V,{data:e,columns:v,selectedRows:n,onSelectRow:u})))}),H=(a(54),function(){return c.a.createElement("div",{className:"app"},c.a.createElement(_,null),c.a.createElement(S,null),c.a.createElement(Q,null))}),U=a(7),D=a.n(U),W=function(e){for(var t=[],a=0;a<e;a+=1){var n=D.a.name.firstName(),r=D.a.name.lastName();t.push({id:D.a.random.uuid(),name:"".concat(n," ").concat(r),age:D.a.random.number(40),city:D.a.address.city(),active:D.a.random.boolean(),email:D.a.internet.email(n,r),role:D.a.random.arrayElement(["mentor","student","activist"]),registration:D.a.date.between("2019-1-1","2020-1-1").getTime()})}return t},q=a(11),z=function(e,t){switch(t.type){case"CHANGE_SORT":var a=e.sort,r=t.payload,c=r.field,l=null,i=!0===r.isPressedShift?Object(n.a)({},a):{};if(c in a){var o={asc:"desc",desc:"not",not:"asc"}[a[c]];"not"===o?(delete i[c],l=i):l=Object(n.a)({},i,Object(q.a)({},c,o))}else l=Object(n.a)({},i,Object(q.a)({},c,"asc"));return Object(n.a)({},e,{sort:l});case"CHANGE_SEARCH_QUERY":var s=t.payload,u=s.query,d=s.fields,m=""!==u&&d?s:null;return Object(n.a)({},e,{searchQuery:m});case"CHANGE_FILTER":var f=t.payload,v=f.field,b=f.values,E=e.filters,h=Object(n.a)({},E);return v in E&&0===b.length?delete h[v]:h[v]=b,Object(n.a)({},e,{filters:h});case"SELECT_ROW":var y=t.payload,g=y.elements,p=y.lastSel,_=e.selectedRows,O=Object(n.a)({},_);return g.every((function(e){return e in O}))?g.forEach((function(e){return delete O[e]})):g.forEach((function(e){O[e]=!0})),Object(n.a)({},e,{selectedRows:O,lastSelectedRow:p});case"DELETE_ROW":var N=e.data,S=e.selectedRows,j=Object.keys(S),C=N.slice();return j.forEach((function(e){var t=C.findIndex((function(t){return t.id===e}));C.splice(t,1)})),Object(n.a)({},e,{data:C,selectedRows:{},lastSelectedRow:null});case"CHANGE_VISIBLE_COLUMNS":var w=t.payload;return Object(n.a)({},e,{visibleColumns:w});case"TOGGLE_VIRTUALIZATION":var R=t.payload;return Object(n.a)({},e,{virtualization:R});default:return e}},B=(a(1101),localStorage.getItem("appState")),J={data:W(1e3),sort:{},searchQuery:null,filters:{},selectedRows:{},lastSelectedRow:null,visibleColumns:[{value:"name",label:"Name",isFixed:!0},{value:"age",label:"Age",isFixed:!1},{value:"city",label:"City",isFixed:!1},{value:"active",label:"Active",isFixed:!1},{value:"email",label:"Email",isFixed:!1},{value:"role",label:"Role",isFixed:!1},{value:"registration",label:"Registration",isFixed:!1}],virtualization:!0},X=B?Object(n.a)({},J,{},JSON.parse(B)):J,Y=Object(o.b)(z,X,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()),P=document.getElementById("root");i.a.render(c.a.createElement(s.a,{store:Y},c.a.createElement(H,null)),P);window.addEventListener("unload",(function(){var e=Y.getState(),t={sort:e.sort,searchQuery:e.searchQuery,filters:e.filters,visibleColumns:e.visibleColumns},a=JSON.stringify(t);localStorage.setItem("appState",a)})),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},24:function(e,t,a){e.exports=a.p+"static/media/sort-not.a455d9bd.svg"},25:function(e,t,a){e.exports=a.p+"static/media/sort-asc.b5e00e04.svg"},26:function(e,t,a){e.exports=a.p+"static/media/sort-desc.391ccdd8.svg"},29:function(e,t,a){e.exports=a(1102)},39:function(e,t,a){},40:function(e,t,a){},45:function(e,t,a){},46:function(e,t,a){},47:function(e,t,a){},49:function(e,t,a){},50:function(e,t,a){},51:function(e,t,a){},52:function(e,t,a){},53:function(e,t,a){},54:function(e,t,a){}},[[29,1,2]]]);
//# sourceMappingURL=main.c146e8f1.chunk.js.map